<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zilliqa: BlockStorage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zilliqa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="class_block_storage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BlockStorage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages persistent storage of DS and Tx blocks.  
 <a href="class_block_storage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_block_storage_8bk_8h_source.html">BlockStorage.bk.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage_1_1_block_file_info.html">BlockFileInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information on a block file.  <a href="class_block_storage_1_1_block_file_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage_1_1_block_info.html">BlockInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information on the location and size of a stored block.  <a href="class_block_storage_1_1_block_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage_1_1_last_block_file_info.html">LastBlockFileInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information on the last generated block file.  <a href="class_block_storage_1_1_last_block_file_info.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a180694e4e1e219a1be562c778edae363"><td class="memItemLeft" align="right" valign="top"><a id="a180694e4e1e219a1be562c778edae363"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a180694e4e1e219a1be562c778edae363">SetBlockStorageType</a> (BlockStorageType _blockStorageType)</td></tr>
<tr class="memdesc:a180694e4e1e219a1be562c778edae363"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the type of storage mechanism to use. <br /></td></tr>
<tr class="separator:a180694e4e1e219a1be562c778edae363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcec21ecd6e0e85ef3e11477f8c79e7d"><td class="memItemLeft" align="right" valign="top"><a id="adcec21ecd6e0e85ef3e11477f8c79e7d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#adcec21ecd6e0e85ef3e11477f8c79e7d">PutDSBlock</a> (const boost::multiprecision::uint256_t &amp;blockNum, const std::vector&lt; unsigned char &gt; &amp;block)</td></tr>
<tr class="memdesc:adcec21ecd6e0e85ef3e11477f8c79e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a DS block to storage. <br /></td></tr>
<tr class="separator:adcec21ecd6e0e85ef3e11477f8c79e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628d0a519ec01789060c40cacb78753f"><td class="memItemLeft" align="right" valign="top"><a id="a628d0a519ec01789060c40cacb78753f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a628d0a519ec01789060c40cacb78753f">PutTxBlock</a> (const boost::multiprecision::uint256_t &amp;blockNum, const std::vector&lt; unsigned char &gt; &amp;block)</td></tr>
<tr class="memdesc:a628d0a519ec01789060c40cacb78753f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a Tx block to storage. <br /></td></tr>
<tr class="separator:a628d0a519ec01789060c40cacb78753f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c132b0f380482190ef81416037254ef"><td class="memItemLeft" align="right" valign="top"><a id="a0c132b0f380482190ef81416037254ef"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a0c132b0f380482190ef81416037254ef">GetDSBlock</a> (const boost::multiprecision::uint256_t &amp;blocknum, DSBlockSharedPtr &amp;block)</td></tr>
<tr class="memdesc:a0c132b0f380482190ef81416037254ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the requested DS block. <br /></td></tr>
<tr class="separator:a0c132b0f380482190ef81416037254ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fe00006e9dd154c9ede82f1a029ba5"><td class="memItemLeft" align="right" valign="top"><a id="a30fe00006e9dd154c9ede82f1a029ba5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a30fe00006e9dd154c9ede82f1a029ba5">GetTxBlock</a> (const boost::multiprecision::uint256_t &amp;blocknum, TxBlockSharedPtr &amp;block)</td></tr>
<tr class="memdesc:a30fe00006e9dd154c9ede82f1a029ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the requested Tx block. <br /></td></tr>
<tr class="separator:a30fe00006e9dd154c9ede82f1a029ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415d02a79abc3c5561715e3e41be1319"><td class="memItemLeft" align="right" valign="top"><a id="a415d02a79abc3c5561715e3e41be1319"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a415d02a79abc3c5561715e3e41be1319">PutTxBody</a> (const std::string &amp;key, const std::vector&lt; unsigned char &gt; &amp;body)</td></tr>
<tr class="memdesc:a415d02a79abc3c5561715e3e41be1319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a transaction body to storage. <br /></td></tr>
<tr class="separator:a415d02a79abc3c5561715e3e41be1319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad90b859b5f36058a03d1d2b22c2de250"><td class="memItemLeft" align="right" valign="top"><a id="ad90b859b5f36058a03d1d2b22c2de250"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#ad90b859b5f36058a03d1d2b22c2de250">GetTxBody</a> (const std::string &amp;key, TxBodySharedPtr &amp;body)</td></tr>
<tr class="memdesc:ad90b859b5f36058a03d1d2b22c2de250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the requested transaction body. <br /></td></tr>
<tr class="separator:ad90b859b5f36058a03d1d2b22c2de250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f8911910506ae2930cb99623b24fe6"><td class="memItemLeft" align="right" valign="top"><a id="a65f8911910506ae2930cb99623b24fe6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a65f8911910506ae2930cb99623b24fe6">Compress</a> (const unsigned char *src, int src_len, std::shared_ptr&lt; unsigned char &gt; &amp;dst, lzo_uint &amp;dst_len)</td></tr>
<tr class="memdesc:a65f8911910506ae2930cb99623b24fe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function for compressing a byte stream. <br /></td></tr>
<tr class="separator:a65f8911910506ae2930cb99623b24fe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83ce3c5938b971be10f8af12a388491f"><td class="memItemLeft" align="right" valign="top"><a id="a83ce3c5938b971be10f8af12a388491f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a83ce3c5938b971be10f8af12a388491f">Decompress</a> (const unsigned char *src, const lzo_uint src_len, unsigned char *dst)</td></tr>
<tr class="memdesc:a83ce3c5938b971be10f8af12a388491f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function for decompressing a byte stream. <br /></td></tr>
<tr class="separator:a83ce3c5938b971be10f8af12a388491f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcec21ecd6e0e85ef3e11477f8c79e7d"><td class="memItemLeft" align="right" valign="top"><a id="adcec21ecd6e0e85ef3e11477f8c79e7d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#adcec21ecd6e0e85ef3e11477f8c79e7d">PutDSBlock</a> (const boost::multiprecision::uint256_t &amp;blockNum, const std::vector&lt; unsigned char &gt; &amp;block)</td></tr>
<tr class="memdesc:adcec21ecd6e0e85ef3e11477f8c79e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a DS block to storage. <br /></td></tr>
<tr class="separator:adcec21ecd6e0e85ef3e11477f8c79e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628d0a519ec01789060c40cacb78753f"><td class="memItemLeft" align="right" valign="top"><a id="a628d0a519ec01789060c40cacb78753f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a628d0a519ec01789060c40cacb78753f">PutTxBlock</a> (const boost::multiprecision::uint256_t &amp;blockNum, const std::vector&lt; unsigned char &gt; &amp;block)</td></tr>
<tr class="memdesc:a628d0a519ec01789060c40cacb78753f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a Tx block to storage. <br /></td></tr>
<tr class="separator:a628d0a519ec01789060c40cacb78753f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c132b0f380482190ef81416037254ef"><td class="memItemLeft" align="right" valign="top"><a id="a0c132b0f380482190ef81416037254ef"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a0c132b0f380482190ef81416037254ef">GetDSBlock</a> (const boost::multiprecision::uint256_t &amp;blocknum, DSBlockSharedPtr &amp;block)</td></tr>
<tr class="memdesc:a0c132b0f380482190ef81416037254ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the requested DS block. <br /></td></tr>
<tr class="separator:a0c132b0f380482190ef81416037254ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30fe00006e9dd154c9ede82f1a029ba5"><td class="memItemLeft" align="right" valign="top"><a id="a30fe00006e9dd154c9ede82f1a029ba5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a30fe00006e9dd154c9ede82f1a029ba5">GetTxBlock</a> (const boost::multiprecision::uint256_t &amp;blocknum, TxBlockSharedPtr &amp;block)</td></tr>
<tr class="memdesc:a30fe00006e9dd154c9ede82f1a029ba5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the requested Tx block. <br /></td></tr>
<tr class="separator:a30fe00006e9dd154c9ede82f1a029ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861b66af7d5c4782860f612da1ab1df6"><td class="memItemLeft" align="right" valign="top"><a id="a861b66af7d5c4782860f612da1ab1df6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a861b66af7d5c4782860f612da1ab1df6">PutTxBody</a> (const dev::h256 &amp;key, const std::vector&lt; unsigned char &gt; &amp;body)</td></tr>
<tr class="memdesc:a861b66af7d5c4782860f612da1ab1df6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a transaction body to storage. <br /></td></tr>
<tr class="separator:a861b66af7d5c4782860f612da1ab1df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564fd8ef6619a7ed85c61245203df8ab"><td class="memItemLeft" align="right" valign="top"><a id="a564fd8ef6619a7ed85c61245203df8ab"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a564fd8ef6619a7ed85c61245203df8ab">GetTxBody</a> (const dev::h256 &amp;key, TxBodySharedPtr &amp;body)</td></tr>
<tr class="memdesc:a564fd8ef6619a7ed85c61245203df8ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the requested transaction body. <br /></td></tr>
<tr class="separator:a564fd8ef6619a7ed85c61245203df8ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a59766e5deb3849c2bc56fd3f6e555614"><td class="memItemLeft" align="right" valign="top"><a id="a59766e5deb3849c2bc56fd3f6e555614"></a>
static <a class="el" href="class_block_storage.html">BlockStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a59766e5deb3849c2bc56fd3f6e555614">GetBlockStorage</a> ()</td></tr>
<tr class="memdesc:a59766e5deb3849c2bc56fd3f6e555614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the singleton <a class="el" href="class_block_storage.html" title="Manages persistent storage of DS and Tx blocks. ">BlockStorage</a> instance. <br /></td></tr>
<tr class="separator:a59766e5deb3849c2bc56fd3f6e555614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53deb72aee219b1b012616ff615cbe5"><td class="memItemLeft" align="right" valign="top"><a id="aa53deb72aee219b1b012616ff615cbe5"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#aa53deb72aee219b1b012616ff615cbe5">SetBlockFileSize</a> (unsigned int blockFileSize)</td></tr>
<tr class="memdesc:aa53deb72aee219b1b012616ff615cbe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the file size limit. <br /></td></tr>
<tr class="separator:aa53deb72aee219b1b012616ff615cbe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c67d90f1f5d2acc755fbc97ea644893"><td class="memItemLeft" align="right" valign="top"><a id="a7c67d90f1f5d2acc755fbc97ea644893"></a>
static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#a7c67d90f1f5d2acc755fbc97ea644893">GetBlockFileSize</a> ()</td></tr>
<tr class="memdesc:a7c67d90f1f5d2acc755fbc97ea644893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file size limit. <br /></td></tr>
<tr class="separator:a7c67d90f1f5d2acc755fbc97ea644893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba99cf449c984d77712297742188aa4c"><td class="memItemLeft" align="right" valign="top"><a id="aba99cf449c984d77712297742188aa4c"></a>
static <a class="el" href="class_block_storage.html">BlockStorage</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_block_storage.html#aba99cf449c984d77712297742188aa4c">GetBlockStorage</a> ()</td></tr>
<tr class="memdesc:aba99cf449c984d77712297742188aa4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the singleton <a class="el" href="class_block_storage.html" title="Manages persistent storage of DS and Tx blocks. ">BlockStorage</a> instance. <br /></td></tr>
<tr class="separator:aba99cf449c984d77712297742188aa4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages persistent storage of DS and Tx blocks. </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libPersistence/<a class="el" href="_block_storage_8bk_8h_source.html">BlockStorage.bk.h</a></li>
<li>src/libPersistence/<a class="el" href="_block_storage_8h_source.html">BlockStorage.h</a></li>
<li>src/libPersistence/BlockStorage.bk.cpp</li>
<li>src/libPersistence/BlockStorage.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
