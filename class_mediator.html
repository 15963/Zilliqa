<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zilliqa: Mediator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zilliqa
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_mediator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Mediator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A mediator class for providing access to global members.  
 <a href="class_mediator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_mediator_8h_source.html">Mediator.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Mediator:</div>
<div class="dyncontent">
<div class="center"><img src="class_mediator__coll__graph.png" border="0" usemap="#_mediator_coll__map" alt="Collaboration graph"/></div>
<map name="_mediator_coll__map" id="_mediator_coll__map">
<area shape="rect" id="node2" href="class_node.html" title="Implements PoW submission and sharding node functionality. " alt="" coords="369,80,422,105"/>
<area shape="rect" id="node3" href="class_executable.html" title="Specifies the interface required for classes that process messages. " alt="" coords="110,5,198,31"/>
<area shape="rect" id="node8" href="class_lookup.html" title="Processes requests pertaining to network, transaction, or block information. " alt="" coords="5,80,70,105"/>
<area shape="rect" id="node10" href="class_directory_service.html" title="Implements Directory Service functionality including PoW verification, DS, Tx Block Consensus and sha..." alt="" coords="94,80,213,105"/>
<area shape="rect" id="node4" href="class_broadcastable.html" title="Specifies the interface required for classes that maintain broadcast lists. " alt="" coords="255,5,362,31"/>
<area shape="rect" id="node5" href="struct_peer.html" title="Stores IP information on a single Zilliqa peer. " alt="" coords="604,80,653,105"/>
<area shape="rect" id="node6" href="class_serializable.html" title="Specifies the interface required for classes that are byte serializable. " alt="" coords="583,5,674,31"/>
<area shape="rect" id="node7" href="class_d_s_block_chain.html" title="Transient storage for DS blocks. " alt="" coords="238,80,345,105"/>
<area shape="rect" id="node9" href="class_tx_block_chain.html" title="Transient storage for Tx blocks. " alt="" coords="446,80,550,105"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9fdc77497c1e5440846f27c49ce45e78"><td class="memItemLeft" align="right" valign="top"><a id="a9fdc77497c1e5440846f27c49ce45e78"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a9fdc77497c1e5440846f27c49ce45e78">Mediator</a> (const pair&lt; <a class="el" href="struct_priv_key.html">PrivKey</a>, <a class="el" href="struct_pub_key.html">PubKey</a> &gt; &amp;key, const <a class="el" href="struct_peer.html">Peer</a> &amp;peer)</td></tr>
<tr class="memdesc:a9fdc77497c1e5440846f27c49ce45e78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br /></td></tr>
<tr class="separator:a9fdc77497c1e5440846f27c49ce45e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bae430a78a37c56c604206c5d7f302"><td class="memItemLeft" align="right" valign="top"><a id="a50bae430a78a37c56c604206c5d7f302"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a50bae430a78a37c56c604206c5d7f302">~Mediator</a> ()</td></tr>
<tr class="memdesc:a50bae430a78a37c56c604206c5d7f302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a50bae430a78a37c56c604206c5d7f302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82403715d95a73952b17739854f4d2c"><td class="memItemLeft" align="right" valign="top"><a id="aa82403715d95a73952b17739854f4d2c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#aa82403715d95a73952b17739854f4d2c">RegisterColleagues</a> (<a class="el" href="class_directory_service.html">DirectoryService</a> *ds, <a class="el" href="class_node.html">Node</a> *node, <a class="el" href="class_lookup.html">Lookup</a> *lookup)</td></tr>
<tr class="memdesc:aa82403715d95a73952b17739854f4d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the references to the subclass instances. <br /></td></tr>
<tr class="separator:aa82403715d95a73952b17739854f4d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf441cbda046b55d9529086ecde9d9a"><td class="memItemLeft" align="right" valign="top"><a id="a1bf441cbda046b55d9529086ecde9d9a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a1bf441cbda046b55d9529086ecde9d9a">UpdateDSBlockRand</a> (bool isGenesis=false)</td></tr>
<tr class="memdesc:a1bf441cbda046b55d9529086ecde9d9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the DS blockchain random for PoW. <br /></td></tr>
<tr class="separator:a1bf441cbda046b55d9529086ecde9d9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1457a2f89bb0afa40a78800611368291"><td class="memItemLeft" align="right" valign="top"><a id="a1457a2f89bb0afa40a78800611368291"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a1457a2f89bb0afa40a78800611368291">UpdateTxBlockRand</a> (bool isGenesis=false)</td></tr>
<tr class="memdesc:a1457a2f89bb0afa40a78800611368291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the Tx blockchain random for PoW. <br /></td></tr>
<tr class="separator:a1457a2f89bb0afa40a78800611368291"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae03ff0339f2d9d539c40db7b7b776627"><td class="memItemLeft" align="right" valign="top"><a id="ae03ff0339f2d9d539c40db7b7b776627"></a>
std::pair&lt; <a class="el" href="struct_priv_key.html">PrivKey</a>, <a class="el" href="struct_pub_key.html">PubKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#ae03ff0339f2d9d539c40db7b7b776627">m_selfKey</a></td></tr>
<tr class="memdesc:ae03ff0339f2d9d539c40db7b7b776627"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_zilliqa.html" title="Main Zilliqa class. ">Zilliqa</a> instance's key pair. <br /></td></tr>
<tr class="separator:ae03ff0339f2d9d539c40db7b7b776627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35fb5a719c3dcd63b7b678f991cebdd"><td class="memItemLeft" align="right" valign="top"><a id="ae35fb5a719c3dcd63b7b678f991cebdd"></a>
<a class="el" href="struct_peer.html">Peer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#ae35fb5a719c3dcd63b7b678f991cebdd">m_selfPeer</a></td></tr>
<tr class="memdesc:ae35fb5a719c3dcd63b7b678f991cebdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_zilliqa.html" title="Main Zilliqa class. ">Zilliqa</a> instance's IP information. <br /></td></tr>
<tr class="separator:ae35fb5a719c3dcd63b7b678f991cebdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb90c958eba58e538d1079b57c1a886b"><td class="memItemLeft" align="right" valign="top"><a id="adb90c958eba58e538d1079b57c1a886b"></a>
<a class="el" href="class_directory_service.html">DirectoryService</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#adb90c958eba58e538d1079b57c1a886b">m_ds</a></td></tr>
<tr class="memdesc:adb90c958eba58e538d1079b57c1a886b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reference to the <a class="el" href="class_directory_service.html" title="Implements Directory Service functionality including PoW verification, DS, Tx Block Consensus and sha...">DirectoryService</a> instance. <br /></td></tr>
<tr class="separator:adb90c958eba58e538d1079b57c1a886b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e7fa532ad41cbd38b6a0d571818476"><td class="memItemLeft" align="right" valign="top"><a id="a32e7fa532ad41cbd38b6a0d571818476"></a>
<a class="el" href="class_node.html">Node</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a32e7fa532ad41cbd38b6a0d571818476">m_node</a></td></tr>
<tr class="memdesc:a32e7fa532ad41cbd38b6a0d571818476"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reference to the <a class="el" href="class_node.html" title="Implements PoW submission and sharding node functionality. ">Node</a> instance. <br /></td></tr>
<tr class="separator:a32e7fa532ad41cbd38b6a0d571818476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeeb5c5ee40f041c3a5824cc8ca34a74"><td class="memItemLeft" align="right" valign="top"><a id="aaeeb5c5ee40f041c3a5824cc8ca34a74"></a>
<a class="el" href="class_lookup.html">Lookup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#aaeeb5c5ee40f041c3a5824cc8ca34a74">m_lookup</a></td></tr>
<tr class="memdesc:aaeeb5c5ee40f041c3a5824cc8ca34a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">The reference to the <a class="el" href="class_lookup.html" title="Processes requests pertaining to network, transaction, or block information. ">Lookup</a> instance. <br /></td></tr>
<tr class="separator:aaeeb5c5ee40f041c3a5824cc8ca34a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ffcff33dec5a595727bff607dc88f75"><td class="memItemLeft" align="right" valign="top"><a id="a1ffcff33dec5a595727bff607dc88f75"></a>
<a class="el" href="class_d_s_block_chain.html">DSBlockChain</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a1ffcff33dec5a595727bff607dc88f75">m_dsBlockChain</a></td></tr>
<tr class="memdesc:a1ffcff33dec5a595727bff607dc88f75"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transient DS blockchain. <br /></td></tr>
<tr class="separator:a1ffcff33dec5a595727bff607dc88f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7741d3312362207ece95f8691a547ee"><td class="memItemLeft" align="right" valign="top"><a id="ae7741d3312362207ece95f8691a547ee"></a>
<a class="el" href="class_tx_block_chain.html">TxBlockChain</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#ae7741d3312362207ece95f8691a547ee">m_txBlockChain</a></td></tr>
<tr class="memdesc:ae7741d3312362207ece95f8691a547ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">The transient Tx blockchain. <br /></td></tr>
<tr class="separator:ae7741d3312362207ece95f8691a547ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac12038f8801623337b3cbac7478678c5"><td class="memItemLeft" align="right" valign="top"><a id="ac12038f8801623337b3cbac7478678c5"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#ac12038f8801623337b3cbac7478678c5">m_currentEpochNum</a> = 0</td></tr>
<tr class="memdesc:ac12038f8801623337b3cbac7478678c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current epoch. <br /></td></tr>
<tr class="separator:ac12038f8801623337b3cbac7478678c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2249591a836182a1ec7744322039373"><td class="memItemLeft" align="right" valign="top"><a id="ad2249591a836182a1ec7744322039373"></a>
std::deque&lt; <a class="el" href="struct_peer.html">Peer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#ad2249591a836182a1ec7744322039373">m_DSCommitteeNetworkInfo</a></td></tr>
<tr class="memdesc:ad2249591a836182a1ec7744322039373"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current members of the DS committee. <br /></td></tr>
<tr class="separator:ad2249591a836182a1ec7744322039373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78e6a57e2323a57360017fc26fd48bc"><td class="memItemLeft" align="right" valign="top"><a id="aa78e6a57e2323a57360017fc26fd48bc"></a>
std::deque&lt; <a class="el" href="struct_pub_key.html">PubKey</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#aa78e6a57e2323a57360017fc26fd48bc">m_DSCommitteePubKeys</a></td></tr>
<tr class="memdesc:aa78e6a57e2323a57360017fc26fd48bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The public keys of the DS committee members. <br /></td></tr>
<tr class="separator:aa78e6a57e2323a57360017fc26fd48bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea114112be0c5c578240f27b662ee3f0"><td class="memItemLeft" align="right" valign="top"><a id="aea114112be0c5c578240f27b662ee3f0"></a>
std::array&lt; unsigned char, POW_SIZE &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#aea114112be0c5c578240f27b662ee3f0">m_dsBlockRand</a></td></tr>
<tr class="memdesc:aea114112be0c5c578240f27b662ee3f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current epoch randomness from the DS blockchain. <br /></td></tr>
<tr class="separator:aea114112be0c5c578240f27b662ee3f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04405ca549e2e225ae38bd3abe3ea91a"><td class="memItemLeft" align="right" valign="top"><a id="a04405ca549e2e225ae38bd3abe3ea91a"></a>
std::array&lt; unsigned char, POW_SIZE &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#a04405ca549e2e225ae38bd3abe3ea91a">m_txBlockRand</a></td></tr>
<tr class="memdesc:a04405ca549e2e225ae38bd3abe3ea91a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current epoch randomness from the Tx blockchain. <br /></td></tr>
<tr class="separator:a04405ca549e2e225ae38bd3abe3ea91a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4e415ec40338b3e105290bfb5201c3"><td class="memItemLeft" align="right" valign="top"><a id="afc4e415ec40338b3e105290bfb5201c3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mediator.html#afc4e415ec40338b3e105290bfb5201c3">m_isConnectedToNetwork</a></td></tr>
<tr class="memdesc:afc4e415ec40338b3e105290bfb5201c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by lookup to determine if it could successfully join the network after sync. <br /></td></tr>
<tr class="separator:afc4e415ec40338b3e105290bfb5201c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A mediator class for providing access to global members. </p>
<p>Copyright (c) 2018 <a class="el" href="class_zilliqa.html" title="Main Zilliqa class. ">Zilliqa</a> This source code is being disclosed to you solely for the purpose of your participation in testing <a class="el" href="class_zilliqa.html" title="Main Zilliqa class. ">Zilliqa</a>. You may view, compile and run the code for that purpose and pursuant to the protocols and algorithms that are programmed into, and intended by, the code. You may not do anything else with the code without express permission from <a class="el" href="class_zilliqa.html" title="Main Zilliqa class. ">Zilliqa</a> Research Pte. Ltd., including modifying or publishing the code (or any part of it), and developing or forming another public or private blockchain network. This source code is provided ‘as is’ and no warranties are given as to title or non-infringement, merchantability or fitness for purpose and, to the extent permitted by law, all liability for your use of the code is disclaimed. Some programs in this code are governed by the GNU General Public License v3.0 (available at <a href="https://www.gnu.org/licenses/gpl-3.0.en.html">https://www.gnu.org/licenses/gpl-3.0.en.html</a>) (‘GPLv3’). The programs that are governed by GPLv3.0 are those programs that are located in the folders src/depends and tests/depends and which include a reference to GPLv3 in their program files. </p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libMediator/<a class="el" href="_mediator_8h_source.html">Mediator.h</a></li>
<li>src/libMediator/Mediator.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
